{"ast":null,"code":"import _objectSpread from\"C:/ezcryptotips/ezcryptotips/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{QrCode,Wallet,User,Share2,Zap,Coins,ArrowLeft}from'lucide-react';import{initializeApp}from'firebase/app';import{getFirestore,collection,addDoc,serverTimestamp}from'firebase/firestore';// --- FIREBASE CONFIGURATION ---\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const firebaseConfig=JSON.parse(typeof __firebase_config!=='undefined'?__firebase_config:'{}');// Initialization (safe check for preview environment)\nlet db;try{const app=initializeApp(firebaseConfig);db=getFirestore(app);}catch(e){console.warn(\"Firebase not initialized (likely missing config in preview). Using Mock Mode.\");}// --- CONSTANTS ---\nconst APP_ID=typeof __app_id!=='undefined'?__app_id:'ez-crypto-tips';// Hedera Brand Colors\nconst HEDERA_GREEN=\"#00eb78\";const HEDERA_BLACK=\"#181818\";// Slightly lighter than pure black for cards\n// --- TYPES ---\n// --- MOCK DATA FOR PREVIEW ---\n// Used if Firebase is unavailable\nconst MOCK_WAITER={id:'demo-waiter',name:'Alex',restaurant:'Burger Heroes',hederaId:'0.0.451923',bio:'Saving for my own food truck! üçî'};export default function App(){// State\nconst[view,setView]=useState('landing');const[waiterData,setWaiterData]=useState(null);const[amount,setAmount]=useState('');const[review,setReview]=useState('');// Review text state\nconst[loading,setLoading]=useState(false);// Registration Form State (only Hedera ID needed now)\nconst[regForm,setRegForm]=useState({name:'',restaurant:'',hederaId:''});// --- NAVIGATION HELPERS ---\n// Emulate QR code scanning (navigates to specific waiter's payment page)\nconst openPaymentPage=profile=>{setWaiterData(profile);setAmount('');// Reset state when opening pay view\nsetReview('');// Reset review state\nsetView('pay');};// --- ACTIONS ---\nconst handleRegister=async e=>{e.preventDefault();setLoading(true);try{if(db){// Save to Firestore\nconst docRef=await addDoc(collection(db,'artifacts',APP_ID,'public','data','waiters'),_objectSpread(_objectSpread({},regForm),{},{createdAt:serverTimestamp()}));const newProfile=_objectSpread(_objectSpread({},regForm),{},{id:docRef.id});setWaiterData(newProfile);alert(\"Profile created! ID: \".concat(docRef.id));openPaymentPage(newProfile);// Show immediately as client sees it\n}else{// Mock mode\nsetWaiterData(_objectSpread(_objectSpread({},regForm),{},{id:'mock-id'}));openPaymentPage(_objectSpread(_objectSpread({},regForm),{},{id:'mock-id'}));}}catch(error){console.error(\"Error adding document: \",error);alert(\"Registration error. Check console.\");}finally{setLoading(false);}};// --- PAYMENT LOGIC (THE CORE) ---\nconst handlePayment=async()=>{if(!amount||parseFloat(amount)<=0)return;setLoading(true);// Simulate network delay\nawait new Promise(resolve=>setTimeout(resolve,1500));try{await processPayment();setView('success');}catch(error){alert(\"Payment cancelled or failed\");}finally{setLoading(false);}};/**\r\n   * HEDERA Payment Logic (Using EVM Smart Contract)\r\n   * Calls the TipSplitter.sol contract deployed on Hedera EVM to split the tip and record the review.\r\n   */const processPayment=async()=>{console.log(\"--- HEDERA EVM SMART CONTRACT PAYMENT LOGIC START ---\");// Waiter's Hedera ID (0.0.xxxxx) needs to be converted to a corresponding EVM address (0x...) \n// for contract interaction. For simulation, we assume an EVM address is used.\n// In a real app: Call TipSplitter.sendTipAndReview(waiterEVMAddress, reviewText) via web3/ethers on Hedera EVM\nconst evmAddressSim='0x123...abc';// Simulated EVM address derived from waiterData.hederaId\nconst reviewPayload=review.trim()?\"\\nReview: \\\"\".concat(review.trim(),\"\\\"\"):'';alert(\"[HEDERA EVM SMART CONTRACT SIMULATION]\\n\\n\"+\"Opening HashPack/MetaMask...\\n\\n\"+\"Calling Contract TipSplitter.sendTipAndReview()\\n\"+\"Waiter EVM Address (Simulated): \".concat(evmAddressSim,\"\\n\")+\"Amount: \".concat(amount,\" HBAR\").concat(reviewPayload,\"\\n\\n\")+\"Status: Transaction successfully executed (HSCS)\");};// --- VIEWS ---\nif(view==='landing'){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-black text-white flex flex-col items-center justify-center p-6 font-sans relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-0 left-0 w-full h-full overflow-hidden z-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute -top-[20%] -right-[20%] w-[60%] h-[60%] bg-white/5 rounded-full blur-3xl\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-[40%] -left-[10%] w-[40%] h-[40%] bg-[#00eb78]/10 rounded-full blur-3xl\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full text-center space-y-10 relative z-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mb-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"border border-white/20 p-6 rounded-3xl bg-white/5 backdrop-blur-md shadow-2xl\",children:/*#__PURE__*/_jsx(QrCode,{size:64,color:HEDERA_GREEN})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-bold tracking-tighter text-white mb-2\",children:\"Ez Crypto Tips\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[#00eb78] font-mono tracking-widest text-sm uppercase\",children:\"Powered by Hedera EVM\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 text-lg leading-relaxed font-light\",children:[\"The future of tipping. Instant. Direct. \",/*#__PURE__*/_jsx(\"br\",{}),\"Happiness is not in money, but  \",/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:\"money brings happiness\"}),\".\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-4 pt-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setView('register'),className:\"w-full bg-[#00eb78] hover:bg-[#00c96d] text-black font-bold py-4 px-6 rounded-full transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-[0_0_20px_rgba(0,235,120,0.3)] flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(User,{size:20}),\"I am a Waiter (Create QR)\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>openPaymentPage(MOCK_WAITER),className:\"w-full bg-transparent hover:bg-white/10 text-white font-semibold py-4 px-6 rounded-full border border-white/30 transition-all flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Zap,{size:20,color:HEDERA_GREEN}),\"Demo Payment (Guest)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-16 flex justify-center gap-6 text-[10px] uppercase tracking-widest text-gray-500 font-mono\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center gap-1\",children:\"Reviews are recorded on-chain and cannot be edited or deleted.\"}),/*#__PURE__*/_jsx(\"span\",{className:\"flex items-center gap-1\",children:\"Low 5% service fee.\"})]})]})]});}if(view==='register'){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-black flex flex-col p-6 font-sans\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full mx-auto bg-[#181818] rounded-3xl border border-gray-800 overflow-hidden shadow-2xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 border-b border-gray-800\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('landing'),className:\"text-gray-400 hover:text-white mb-6 transition-colors\",children:/*#__PURE__*/_jsx(ArrowLeft,{size:24})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-white mb-1\",children:\"Registration\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400\",children:\"Create your Ez Crypto Tips profile\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,className:\"p-8 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2\",children:\"Your Name\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",className:\"w-full bg-black text-white p-4 border border-gray-700 rounded-xl focus:border-[#00eb78] focus:ring-1 focus:ring-[#00eb78] outline-none transition-all placeholder-gray-600\",placeholder:\"Alex\",value:regForm.name,onChange:e=>setRegForm(_objectSpread(_objectSpread({},regForm),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2\",children:\"Restaurant / Venue\"}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",className:\"w-full bg-black text-white p-4 border border-gray-700 rounded-xl focus:border-[#00eb78] focus:ring-1 focus:ring-[#00eb78] outline-none transition-all placeholder-gray-600\",placeholder:\"Burger Heroes\",value:regForm.restaurant,onChange:e=>setRegForm(_objectSpread(_objectSpread({},regForm),{},{restaurant:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 flex items-center justify-between\",children:[\"Hedera Account ID\",/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] text-[#00eb78] bg-[#00eb78]/10 px-2 py-1 rounded\",children:\"Required for payment\"})]}),/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",className:\"w-full bg-black text-white p-4 border border-gray-700 rounded-xl focus:border-[#00eb78] focus:ring-1 focus:ring-[#00eb78] outline-none transition-all font-mono placeholder-gray-600\",placeholder:\"0.0.xxxxx\",value:regForm.hederaId,onChange:e=>setRegForm(_objectSpread(_objectSpread({},regForm),{},{hederaId:e.target.value}))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full mt-4 bg-[#00eb78] hover:bg-[#00c96d] text-black font-bold py-4 px-6 rounded-xl transition-all shadow-[0_0_15px_rgba(0,235,120,0.2)] disabled:opacity-50\",children:loading?'Creating...':'Generate QR Code'})]})]})});}if(view==='pay'){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-black flex flex-col p-4 font-sans\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full mx-auto\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setView('landing'),className:\"text-gray-500 hover:text-white mb-6 transition-colors flex items-center gap-2\",children:[/*#__PURE__*/_jsx(ArrowLeft,{size:20}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Back to Ez Crypto Tips\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#181818] border border-gray-800 rounded-3xl p-8 mb-6 text-center relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#00eb78] to-transparent opacity-50\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-24 h-24 bg-black rounded-full mx-auto mb-4 border border-gray-700 flex items-center justify-center text-3xl font-bold text-[#00eb78]\",children:waiterData===null||waiterData===void 0?void 0:waiterData.name.charAt(0)}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white mb-1\",children:waiterData===null||waiterData===void 0?void 0:waiterData.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 uppercase text-xs tracking-wider\",children:waiterData===null||waiterData===void 0?void 0:waiterData.restaurant})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#181818] border border-gray-800 rounded-3xl p-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-3\",children:\"Tip Amount\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-3 mb-4\",children:[10,25,50].map(val=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setAmount(val.toString()),className:\"py-3 rounded-xl font-medium transition-all border \".concat(amount===val.toString()?'border-[#00eb78] bg-[#00eb78]/10 text-[#00eb78]':'border-gray-700 bg-black text-gray-400 hover:border-gray-500'),children:val},val))}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,onChange:e=>setAmount(e.target.value),className:\"w-full bg-black text-white p-4 pr-16 border border-gray-700 rounded-xl text-lg font-bold outline-none focus:border-[#00eb78] transition-colors\",placeholder:\"Custom amount\"}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-bold text-sm\",children:\"HBAR\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-[10px] text-[#00eb78] mt-3 flex items-center gap-1 font-mono\",children:[/*#__PURE__*/_jsx(Zap,{size:10}),\" LIGHTNING FAST ON HEDERA\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-8\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-3\",children:\"Review (Optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:review,onChange:e=>setReview(e.target.value),className:\"w-full bg-black text-white p-4 border border-gray-700 rounded-xl outline-none focus:border-[#00eb78] transition-colors placeholder-gray-600 resize-none\",placeholder:\"Great service, thank you!\",rows:3})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handlePayment,disabled:!amount||loading,className:\"w-full bg-white hover:bg-gray-200 text-black font-bold py-4 px-6 rounded-xl shadow-lg transform transition-all active:scale-95 disabled:opacity-50 disabled:active:scale-100 flex items-center justify-center gap-2\",children:loading?'Processing...':/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Wallet,{size:20}),\"Pay \",amount||'0',\" HBAR\"]})})]})]})});}if(view==='success'){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-black flex flex-col items-center justify-center p-6 text-center font-sans\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#181818] p-8 rounded-full border border-gray-800 mb-8 relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-[#00eb78] blur-3xl opacity-20 rounded-full\"}),/*#__PURE__*/_jsx(Coins,{size:64,color:HEDERA_GREEN,className:\"relative z-10\"})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl font-bold text-white mb-2\",children:\"Success!\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-400 max-w-xs mx-auto mb-10 text-lg\",children:[\"Your tip was sent to \",/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-medium\",children:waiterData===null||waiterData===void 0?void 0:waiterData.name}),\" via Ez Crypto Tips.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#181818] p-6 rounded-2xl border border-gray-800 w-full max-w-sm text-left mb-8 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center pb-4 border-b border-gray-800\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-sm\",children:\"Total Amount\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-bold text-2xl text-white\",children:[amount,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500 font-normal\",children:\"HBAR\"})]})]}),review.trim()&&/*#__PURE__*/_jsxs(\"div\",{className:\"pt-4 border-t border-gray-800\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-sm block mb-2\",children:\"Review Left (Recorded On-Chain)\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-white italic text-sm p-3 bg-black/50 rounded-lg border border-gray-700\",children:[\"\\\"\",review.trim(),\"\\\"\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500 text-sm\",children:\"Recipient ID\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-mono text-xs text-[#00eb78] bg-[#00eb78]/10 px-2 py-1 rounded\",children:waiterData===null||waiterData===void 0?void 0:waiterData.hederaId})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView('landing'),className:\"bg-[#00eb78] hover:bg-[#00c96d] text-black font-bold py-4 px-12 rounded-full shadow-[0_0_20px_rgba(0,235,120,0.4)] transition-all\",children:\"Done\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-12 p-1 border-t border-gray-900 w-full max-w-xs\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center gap-3 text-left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-900 rounded-full text-purple-400\",children:/*#__PURE__*/_jsx(Share2,{size:20})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-bold text-gray-500 uppercase mb-0.5\",children:\"Coming Soon\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-white font-medium\",children:\"Earn $THX tokens for tipping.\"})]})]})})]});}return null;}","map":{"version":3,"names":["React","useState","QrCode","Wallet","User","Share2","Zap","Coins","ArrowLeft","initializeApp","getFirestore","collection","addDoc","serverTimestamp","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","firebaseConfig","JSON","parse","__firebase_config","db","app","e","console","warn","APP_ID","__app_id","HEDERA_GREEN","HEDERA_BLACK","MOCK_WAITER","id","name","restaurant","hederaId","bio","App","view","setView","waiterData","setWaiterData","amount","setAmount","review","setReview","loading","setLoading","regForm","setRegForm","openPaymentPage","profile","handleRegister","preventDefault","docRef","_objectSpread","createdAt","newProfile","alert","concat","error","handlePayment","parseFloat","Promise","resolve","setTimeout","processPayment","log","evmAddressSim","reviewPayload","trim","className","children","size","color","onClick","onSubmit","required","type","placeholder","value","onChange","target","disabled","charAt","map","val","toString","rows"],"sources":["C:/ezcryptotips/ezcryptotips/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  QrCode, \r\n  Wallet, \r\n  User, \r\n  Share2, \r\n  Zap, \r\n  Coins,\r\n  ArrowLeft\r\n} from 'lucide-react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { \r\n  getFirestore, \r\n  collection, \r\n  addDoc, \r\n  serverTimestamp \r\n} from 'firebase/firestore';\r\n\r\n// --- FIREBASE CONFIGURATION ---\r\nconst firebaseConfig = JSON.parse(\r\n  typeof __firebase_config !== 'undefined' ? __firebase_config : '{}'\r\n);\r\n\r\n// Initialization (safe check for preview environment)\r\nlet db: any;\r\ntry {\r\n  const app = initializeApp(firebaseConfig);\r\n  db = getFirestore(app);\r\n} catch (e) {\r\n  console.warn(\"Firebase not initialized (likely missing config in preview). Using Mock Mode.\");\r\n}\r\n\r\n// --- CONSTANTS ---\r\nconst APP_ID = typeof __app_id !== 'undefined' ? __app_id : 'ez-crypto-tips';\r\n\r\n// Hedera Brand Colors\r\nconst HEDERA_GREEN = \"#00eb78\";\r\nconst HEDERA_BLACK = \"#181818\"; // Slightly lighter than pure black for cards\r\n\r\n// --- TYPES ---\r\ntype WaiterProfile = {\r\n  id?: string;\r\n  name: string;\r\n  restaurant: string;\r\n  hederaId: string; // Waiter's Hedera Account ID\r\n  bio?: string;\r\n};\r\n\r\n// --- MOCK DATA FOR PREVIEW ---\r\n// Used if Firebase is unavailable\r\nconst MOCK_WAITER: WaiterProfile = {\r\n  id: 'demo-waiter',\r\n  name: 'Alex',\r\n  restaurant: 'Burger Heroes',\r\n  hederaId: '0.0.451923',\r\n  bio: 'Saving for my own food truck! üçî'\r\n};\r\n\r\nexport default function App() {\r\n  // State\r\n  const [view, setView] = useState<'landing' | 'register' | 'pay' | 'success'>('landing');\r\n  const [waiterData, setWaiterData] = useState<WaiterProfile | null>(null);\r\n  const [amount, setAmount] = useState<string>('');\r\n  const [review, setReview] = useState<string>(''); // Review text state\r\n  const [loading, setLoading] = useState(false);\r\n  \r\n  // Registration Form State (only Hedera ID needed now)\r\n  const [regForm, setRegForm] = useState({\r\n    name: '',\r\n    restaurant: '',\r\n    hederaId: '',\r\n  });\r\n\r\n  // --- NAVIGATION HELPERS ---\r\n  \r\n  // Emulate QR code scanning (navigates to specific waiter's payment page)\r\n  const openPaymentPage = (profile: WaiterProfile) => {\r\n    setWaiterData(profile);\r\n    setAmount(''); // Reset state when opening pay view\r\n    setReview(''); // Reset review state\r\n    setView('pay');\r\n  };\r\n\r\n  // --- ACTIONS ---\r\n\r\n  const handleRegister = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    try {\r\n      if (db) {\r\n        // Save to Firestore\r\n        const docRef = await addDoc(collection(db, 'artifacts', APP_ID, 'public', 'data', 'waiters'), {\r\n          ...regForm,\r\n          createdAt: serverTimestamp()\r\n        });\r\n        \r\n        const newProfile = { ...regForm, id: docRef.id };\r\n        setWaiterData(newProfile);\r\n        alert(`Profile created! ID: ${docRef.id}`);\r\n        openPaymentPage(newProfile); // Show immediately as client sees it\r\n      } else {\r\n        // Mock mode\r\n        setWaiterData({ ...regForm, id: 'mock-id' });\r\n        openPaymentPage({ ...regForm, id: 'mock-id' });\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error adding document: \", error);\r\n      alert(\"Registration error. Check console.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // --- PAYMENT LOGIC (THE CORE) ---\r\n\r\n  const handlePayment = async () => {\r\n    if (!amount || parseFloat(amount) <= 0) return;\r\n    setLoading(true);\r\n\r\n    // Simulate network delay\r\n    await new Promise(resolve => setTimeout(resolve, 1500));\r\n\r\n    try {\r\n      await processPayment();\r\n      setView('success');\r\n    } catch (error) {\r\n      alert(\"Payment cancelled or failed\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * HEDERA Payment Logic (Using EVM Smart Contract)\r\n   * Calls the TipSplitter.sol contract deployed on Hedera EVM to split the tip and record the review.\r\n   */\r\n  const processPayment = async () => {\r\n    console.log(\"--- HEDERA EVM SMART CONTRACT PAYMENT LOGIC START ---\");\r\n    // Waiter's Hedera ID (0.0.xxxxx) needs to be converted to a corresponding EVM address (0x...) \r\n    // for contract interaction. For simulation, we assume an EVM address is used.\r\n    \r\n    // In a real app: Call TipSplitter.sendTipAndReview(waiterEVMAddress, reviewText) via web3/ethers on Hedera EVM\r\n    const evmAddressSim = '0x123...abc'; // Simulated EVM address derived from waiterData.hederaId\r\n    \r\n    const reviewPayload = review.trim() ? `\\nReview: \"${review.trim()}\"` : '';\r\n    \r\n    alert(\r\n      `[HEDERA EVM SMART CONTRACT SIMULATION]\\n\\n` +\r\n      `Opening HashPack/MetaMask...\\n\\n` +\r\n      `Calling Contract TipSplitter.sendTipAndReview()\\n` +\r\n      `Waiter EVM Address (Simulated): ${evmAddressSim}\\n` +\r\n      `Amount: ${amount} HBAR${reviewPayload}\\n\\n` +\r\n      `Status: Transaction successfully executed (HSCS)`\r\n    );\r\n  };\r\n\r\n  // --- VIEWS ---\r\n\r\n  if (view === 'landing') {\r\n    return (\r\n      <div className=\"min-h-screen bg-black text-white flex flex-col items-center justify-center p-6 font-sans relative overflow-hidden\">\r\n        {/* Abstract Background Element (Hedera Style) */}\r\n        <div className=\"absolute top-0 left-0 w-full h-full overflow-hidden z-0\">\r\n          <div className=\"absolute -top-[20%] -right-[20%] w-[60%] h-[60%] bg-white/5 rounded-full blur-3xl\"></div>\r\n          <div className=\"absolute top-[40%] -left-[10%] w-[40%] h-[40%] bg-[#00eb78]/10 rounded-full blur-3xl\"></div>\r\n        </div>\r\n\r\n        <div className=\"max-w-md w-full text-center space-y-10 relative z-10\">\r\n          <div className=\"flex justify-center mb-6\">\r\n            <div className=\"border border-white/20 p-6 rounded-3xl bg-white/5 backdrop-blur-md shadow-2xl\">\r\n              <QrCode size={64} color={HEDERA_GREEN} />\r\n            </div>\r\n          </div>\r\n          \r\n          <div>\r\n            <h1 className=\"text-5xl font-bold tracking-tighter text-white mb-2\">\r\n              Ez Crypto Tips\r\n            </h1>\r\n            <p className=\"text-[#00eb78] font-mono tracking-widest text-sm uppercase\">Powered by Hedera EVM</p>\r\n          </div>\r\n          \r\n          <p className=\"text-gray-400 text-lg leading-relaxed font-light\">\r\n            The future of tipping. Instant. Direct. <br/>\r\n            Happiness is not in money, but  <span className=\"text-white font-medium\">money brings happiness</span>.\r\n          </p>\r\n\r\n          <div className=\"grid gap-4 pt-8\">\r\n            <button \r\n              onClick={() => setView('register')}\r\n              className=\"w-full bg-[#00eb78] hover:bg-[#00c96d] text-black font-bold py-4 px-6 rounded-full transition-all transform hover:scale-[1.02] active:scale-[0.98] shadow-[0_0_20px_rgba(0,235,120,0.3)] flex items-center justify-center gap-2\"\r\n            >\r\n              <User size={20} />\r\n              I am a Waiter (Create QR)\r\n            </button>\r\n            \r\n            <button \r\n              onClick={() => openPaymentPage(MOCK_WAITER)}\r\n              className=\"w-full bg-transparent hover:bg-white/10 text-white font-semibold py-4 px-6 rounded-full border border-white/30 transition-all flex items-center justify-center gap-2\"\r\n            >\r\n              <Zap size={20} color={HEDERA_GREEN} />\r\n              Demo Payment (Guest)\r\n            </button>\r\n          </div>\r\n          \r\n          <div className=\"pt-16 flex justify-center gap-6 text-[10px] uppercase tracking-widest text-gray-500 font-mono\">\r\n            <span className=\"flex items-center gap-1\">Reviews are recorded on-chain and cannot be edited or deleted.</span>\r\n            <span className=\"flex items-center gap-1\">Low 5% service fee.</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (view === 'register') {\r\n    return (\r\n      <div className=\"min-h-screen bg-black flex flex-col p-6 font-sans\">\r\n        <div className=\"max-w-md w-full mx-auto bg-[#181818] rounded-3xl border border-gray-800 overflow-hidden shadow-2xl\">\r\n          <div className=\"p-8 border-b border-gray-800\">\r\n            <button onClick={() => setView('landing')} className=\"text-gray-400 hover:text-white mb-6 transition-colors\">\r\n              <ArrowLeft size={24} />\r\n            </button>\r\n            <h2 className=\"text-3xl font-bold text-white mb-1\">Registration</h2>\r\n            <p className=\"text-gray-400\">Create your Ez Crypto Tips profile</p>\r\n          </div>\r\n          \r\n          <form onSubmit={handleRegister} className=\"p-8 space-y-6\">\r\n            <div>\r\n              <label className=\"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2\">Your Name</label>\r\n              <input \r\n                required\r\n                type=\"text\" \r\n                className=\"w-full bg-black text-white p-4 border border-gray-700 rounded-xl focus:border-[#00eb78] focus:ring-1 focus:ring-[#00eb78] outline-none transition-all placeholder-gray-600\"\r\n                placeholder=\"Alex\"\r\n                value={regForm.name}\r\n                onChange={e => setRegForm({...regForm, name: e.target.value})}\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2\">Restaurant / Venue</label>\r\n              <input \r\n                required\r\n                type=\"text\" \r\n                className=\"w-full bg-black text-white p-4 border border-gray-700 rounded-xl focus:border-[#00eb78] focus:ring-1 focus:ring-[#00eb78] outline-none transition-all placeholder-gray-600\"\r\n                placeholder=\"Burger Heroes\"\r\n                value={regForm.restaurant}\r\n                onChange={e => setRegForm({...regForm, restaurant: e.target.value})}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"pt-2\">\r\n              <label className=\"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-2 flex items-center justify-between\">\r\n                 Hedera Account ID\r\n                 <span className=\"text-[10px] text-[#00eb78] bg-[#00eb78]/10 px-2 py-1 rounded\">Required for payment</span>\r\n              </label>\r\n              <input \r\n                required\r\n                type=\"text\" \r\n                className=\"w-full bg-black text-white p-4 border border-gray-700 rounded-xl focus:border-[#00eb78] focus:ring-1 focus:ring-[#00eb78] outline-none transition-all font-mono placeholder-gray-600\"\r\n                placeholder=\"0.0.xxxxx\"\r\n                value={regForm.hederaId}\r\n                onChange={e => setRegForm({...regForm, hederaId: e.target.value})}\r\n              />\r\n            </div>\r\n\r\n            <button \r\n              type=\"submit\" \r\n              disabled={loading}\r\n              className=\"w-full mt-4 bg-[#00eb78] hover:bg-[#00c96d] text-black font-bold py-4 px-6 rounded-xl transition-all shadow-[0_0_15px_rgba(0,235,120,0.2)] disabled:opacity-50\"\r\n            >\r\n              {loading ? 'Creating...' : 'Generate QR Code'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (view === 'pay') {\r\n    return (\r\n      <div className=\"min-h-screen bg-black flex flex-col p-4 font-sans\">\r\n        <div className=\"max-w-md w-full mx-auto\">\r\n          {/* Back Button */}\r\n          <button onClick={() => setView('landing')} className=\"text-gray-500 hover:text-white mb-6 transition-colors flex items-center gap-2\">\r\n            <ArrowLeft size={20} /> <span className=\"text-sm\">Back to Ez Crypto Tips</span>\r\n          </button>\r\n\r\n          {/* Waiter Card */}\r\n          <div className=\"bg-[#181818] border border-gray-800 rounded-3xl p-8 mb-6 text-center relative overflow-hidden\">\r\n             <div className=\"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#00eb78] to-transparent opacity-50\"></div>\r\n             \r\n             <div className=\"w-24 h-24 bg-black rounded-full mx-auto mb-4 border border-gray-700 flex items-center justify-center text-3xl font-bold text-[#00eb78]\">\r\n                {waiterData?.name.charAt(0)}\r\n             </div>\r\n             <h2 className=\"text-2xl font-bold text-white mb-1\">{waiterData?.name}</h2>\r\n             <p className=\"text-gray-500 uppercase text-xs tracking-wider\">{waiterData?.restaurant}</p>\r\n          </div>\r\n\r\n          {/* Payment Form */}\r\n          <div className=\"bg-[#181818] border border-gray-800 rounded-3xl p-8\">\r\n            <div className=\"mb-8\">\r\n               <label className=\"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-3\">Tip Amount</label>\r\n               <div className=\"grid grid-cols-3 gap-3 mb-4\">\r\n                 {[10, 25, 50].map((val) => (\r\n                   <button \r\n                     key={val}\r\n                     onClick={() => setAmount(val.toString())}\r\n                     className={`py-3 rounded-xl font-medium transition-all border ${amount === val.toString() ? 'border-[#00eb78] bg-[#00eb78]/10 text-[#00eb78]' : 'border-gray-700 bg-black text-gray-400 hover:border-gray-500'}`}\r\n                   >\r\n                     {val}\r\n                   </button>\r\n                 ))}\r\n               </div>\r\n               <div className=\"relative\">\r\n                  <input \r\n                    type=\"number\" \r\n                    value={amount}\r\n                    onChange={(e) => setAmount(e.target.value)}\r\n                    className=\"w-full bg-black text-white p-4 pr-16 border border-gray-700 rounded-xl text-lg font-bold outline-none focus:border-[#00eb78] transition-colors\"\r\n                    placeholder=\"Custom amount\"\r\n                  />\r\n                  <span className=\"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 font-bold text-sm\">\r\n                     HBAR\r\n                  </span>\r\n               </div>\r\n               <p className=\"text-[10px] text-[#00eb78] mt-3 flex items-center gap-1 font-mono\">\r\n                   <Zap size={10}/> LIGHTNING FAST ON HEDERA\r\n               </p>\r\n            </div>\r\n\r\n            {/* Review Field */}\r\n            <div className=\"mb-8\">\r\n               <label className=\"block text-xs font-bold uppercase tracking-wider text-gray-500 mb-3\">Review (Optional)</label>\r\n               <textarea\r\n                    value={review}\r\n                    onChange={(e) => setReview(e.target.value)}\r\n                    className=\"w-full bg-black text-white p-4 border border-gray-700 rounded-xl outline-none focus:border-[#00eb78] transition-colors placeholder-gray-600 resize-none\"\r\n                    placeholder=\"Great service, thank you!\"\r\n                    rows={3}\r\n               />\r\n            </div>\r\n\r\n            <button \r\n              onClick={handlePayment}\r\n              disabled={!amount || loading}\r\n              className=\"w-full bg-white hover:bg-gray-200 text-black font-bold py-4 px-6 rounded-xl shadow-lg transform transition-all active:scale-95 disabled:opacity-50 disabled:active:scale-100 flex items-center justify-center gap-2\"\r\n            >\r\n               {loading ? 'Processing...' : (\r\n                 <>\r\n                   <Wallet size={20} />\r\n                   Pay {amount || '0'} HBAR\r\n                 </>\r\n               )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (view === 'success') {\r\n    return (\r\n      <div className=\"min-h-screen bg-black flex flex-col items-center justify-center p-6 text-center font-sans\">\r\n        <div className=\"bg-[#181818] p-8 rounded-full border border-gray-800 mb-8 relative\">\r\n          <div className=\"absolute inset-0 bg-[#00eb78] blur-3xl opacity-20 rounded-full\"></div>\r\n          <Coins size={64} color={HEDERA_GREEN} className=\"relative z-10\" />\r\n        </div>\r\n        \r\n        <h2 className=\"text-4xl font-bold text-white mb-2\">Success!</h2>\r\n        <p className=\"text-gray-400 max-w-xs mx-auto mb-10 text-lg\">\r\n          Your tip was sent to <span className=\"text-white font-medium\">{waiterData?.name}</span> via Ez Crypto Tips.\r\n        </p>\r\n\r\n        <div className=\"bg-[#181818] p-6 rounded-2xl border border-gray-800 w-full max-w-sm text-left mb-8 space-y-4\">\r\n           <div className=\"flex justify-between items-center pb-4 border-b border-gray-800\">\r\n             <span className=\"text-gray-500 text-sm\">Total Amount</span>\r\n             <span className=\"font-bold text-2xl text-white\">{amount} <span className=\"text-sm text-gray-500 font-normal\">HBAR</span></span>\r\n           </div>\r\n           \r\n           {/* Display Review */}\r\n           {review.trim() && (\r\n             <div className=\"pt-4 border-t border-gray-800\">\r\n               <span className=\"text-gray-500 text-sm block mb-2\">Review Left (Recorded On-Chain)</span>\r\n               <p className=\"text-white italic text-sm p-3 bg-black/50 rounded-lg border border-gray-700\">\r\n                 \"{review.trim()}\"\r\n               </p>\r\n             </div>\r\n           )}\r\n\r\n           <div className=\"flex justify-between items-center\">\r\n             <span className=\"text-gray-500 text-sm\">Recipient ID</span>\r\n             <span className=\"font-mono text-xs text-[#00eb78] bg-[#00eb78]/10 px-2 py-1 rounded\">\r\n                {waiterData?.hederaId}\r\n             </span>\r\n           </div>\r\n        </div>\r\n\r\n        <button \r\n          onClick={() => setView('landing')}\r\n          className=\"bg-[#00eb78] hover:bg-[#00c96d] text-black font-bold py-4 px-12 rounded-full shadow-[0_0_20px_rgba(0,235,120,0.4)] transition-all\"\r\n        >\r\n          Done\r\n        </button>\r\n        \r\n        {/* Token Rewards Teaser */}\r\n        <div className=\"mt-12 p-1 border-t border-gray-900 w-full max-w-xs\">\r\n           <div className=\"mt-4 flex items-center gap-3 text-left\">\r\n              <div className=\"p-3 bg-gray-900 rounded-full text-purple-400\">\r\n                 <Share2 size={20}/>\r\n              </div>\r\n              <div>\r\n                 <p className=\"text-xs font-bold text-gray-500 uppercase mb-0.5\">Coming Soon</p>\r\n                 <p className=\"text-sm text-white font-medium\">Earn $THX tokens for tipping.</p>\r\n              </div>\r\n           </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}